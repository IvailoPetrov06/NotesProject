{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport DateTimePicker from \"@react-native-community/datetimepicker\";\nimport { formatDate } from \"./util\";\nimport { Add, getEventById } from \"./EventService\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar StudentAbsence = function (_Component) {\n  _inherits(StudentAbsence, _Component);\n\n  var _super = _createSuper(StudentAbsence);\n\n  function StudentAbsence() {\n    var _this;\n\n    _classCallCheck(this, StudentAbsence);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      id: \"\",\n      title: \"\",\n      date: Date.now(),\n      description1: \"\",\n      showDatePicker1: false\n    };\n\n    _this.handleChangeTitle = function (value) {\n      _this.setState({\n        title: value\n      });\n    };\n\n    _this.handleChangeDescription = function (value) {\n      _this.setState({\n        description1: value\n      });\n    };\n\n    _this.handleDatePress = function () {\n      _this.setState({\n        showDatePicker: true\n      });\n    };\n\n    _this.handleDatePickerHide = function () {\n      _this.setState({\n        showDatePicker: false\n      });\n    };\n\n    _this.handleDatePicked = function (event, selectedDate) {\n      var currentDate = selectedDate || _this.state.date;\n\n      _this.setState({\n        date: currentDate\n      });\n\n      _this.handleDatePickerHide();\n    };\n\n    return _this;\n  }\n\n  _createClass(StudentAbsence, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var eventId = this.props.route.params[\"id\"];\n      getEventById(eventId).then(function (item) {\n        _this2.setState({\n          id: item._id,\n          title: item.title,\n          date: item.date,\n          description1: item.description1\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return _jsxs(View, {\n        children: [_jsx(TextInput, {\n          style: styles.textInput,\n          placeholder: \"\\u0434\\u0430\\u0442\\u0430 \\u043D\\u0430 \\u043E\\u0442\\u0441\\u044A\\u0441\\u0442\\u0432\\u0438\\u0435\\u0442\\u043E\",\n          value: formatDate(this.state.date),\n          editable: !this.state.showDatePicker,\n          onFocus: this.handleDatePress\n        }), this.state.showDatePicker && _jsx(DateTimePicker, {\n          value: this.state.date,\n          mode: \"datetime\",\n          is24Hour: true,\n          onChange: this.handleDatePicked\n        }), _jsx(TextInput, {\n          style: styles.textInput,\n          placeholder: \"\\u043F\\u0440\\u0438\\u0447\\u0438\\u043D\\u0430 \\u0437\\u0430 \\u043E\\u0442\\u0441\\u044A\\u0441\\u0442\\u0432\\u0438\\u0435\\u0442\\u043E\",\n          value: this.state.description1,\n          onChangeText: this.handleChangeDescription\n        }), _jsx(Button, {\n          title: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\",\n          onPress: function onPress() {\n            Add({\n              id: _this3.state.id,\n              title: _this3.state.title,\n              date: formatDate(_this3.state.date),\n              description1: _this3.state.description1\n            }).then(function () {\n              return _this3.props.navigation.goBack();\n            });\n          }\n        })]\n      });\n    }\n  }]);\n\n  return StudentAbsence;\n}(Component);\n\nexport default StudentAbsence;\nvar styles = StyleSheet.create({\n  textInput: {\n    backgroundColor: \"white\",\n    padding: 10,\n    marginTop: 10,\n    marginBottom: 10\n  }\n});","map":{"version":3,"sources":["D:/Упражнения 9 клас/Мобилни приложения/NotesProject/StudentAbsence.js"],"names":["React","Component","DateTimePicker","formatDate","Add","getEventById","StudentAbsence","state","id","title","date","Date","now","description1","showDatePicker1","handleChangeTitle","value","setState","handleChangeDescription","handleDatePress","showDatePicker","handleDatePickerHide","handleDatePicked","event","selectedDate","currentDate","eventId","props","route","params","then","item","_id","styles","textInput","navigation","goBack","StyleSheet","create","backgroundColor","padding","marginTop","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { View, Button, TextInput, StyleSheet } from \"react-native\";\r\nimport DateTimePicker from \"@react-native-community/datetimepicker\";\r\nimport { formatDate } from \"./util\";\r\nimport { Add, getEventById } from \"./EventService\";\r\n\r\nclass StudentAbsence extends Component {\r\n  state = {\r\n    id: \"\",\r\n    title: \"\",\r\n    date: Date.now(),\r\n    description1: \"\",\r\n    showDatePicker1: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const eventId = this.props.route.params[\"id\"];\r\n    getEventById(eventId)\r\n    .then(item => {\r\n        this.setState({\r\n            id: item._id,\r\n            title: item.title,\r\n            date: item.date,\r\n            description1: item.description1\r\n        })\r\n    })\r\n  }\r\n\r\n  handleChangeTitle = (value) => {\r\n    this.setState({ title: value });\r\n  };\r\n\r\n  handleChangeDescription = (value) => {\r\n    this.setState({ description1: value });\r\n  };\r\n\r\n  handleDatePress = () => {\r\n    this.setState({ showDatePicker: true });\r\n  };\r\n\r\n  handleDatePickerHide = () => {\r\n    this.setState({ showDatePicker: false });\r\n  };\r\n\r\n  handleDatePicked = (event, selectedDate) => {\r\n    const currentDate = selectedDate || this.state.date;\r\n    this.setState({ date: currentDate });\r\n    this.handleDatePickerHide();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <View>\r\n        <TextInput\r\n          style={styles.textInput}\r\n          placeholder=\"дата на отсъствието\"\r\n          value={formatDate(this.state.date)}\r\n          editable={!this.state.showDatePicker}\r\n          onFocus={this.handleDatePress}\r\n        />\r\n        {this.state.showDatePicker && (\r\n          <DateTimePicker\r\n            value={this.state.date}\r\n            mode=\"datetime\"\r\n            is24Hour={true}\r\n            onChange={this.handleDatePicked}\r\n          />\r\n        )}\r\n        <TextInput\r\n          style={styles.textInput}\r\n          placeholder=\"причина за отсъствието\"\r\n          value={this.state.description1}\r\n          onChangeText={this.handleChangeDescription}\r\n        />\r\n        <Button\r\n          title=\"Добави\"\r\n          onPress={() => {\r\n            Add({\r\n              id: this.state.id,\r\n              title: this.state.title,\r\n              date: formatDate(this.state.date),\r\n              description1: this.state.description1,\r\n            }).then(() => this.props.navigation.goBack());\r\n          }}\r\n        />\r\n      </View>\r\n    );\r\n  }\r\n}\r\nexport default StudentAbsence;\r\n\r\nconst styles = StyleSheet.create({\r\n  textInput: {\r\n    backgroundColor: \"white\",\r\n    padding: 10,\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n  },\r\n});"]},"metadata":{},"sourceType":"module"}